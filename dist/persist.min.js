/*!
 * Copyright (c) 2017 NAVER corp
 * @egjs/persist projects are licensed under the MIT <https://naver.github.io/egjs/license.txt> license
 * 
 * @egjs/persist JavaScript library
 * https://github.com/naver/egjs/persist
 * 
 * @version 2.0.0-rc.1
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Persist=t():(e.eg=e.eg||{},e.eg.Persist=t())}(this,function(){return function(e){function __webpack_require__(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,r){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=4)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="undefined"!=typeof window&&window||{};t.window=o;t.document=o.document,t.history=o.history,t.localStorage=o.localStorage,t.location=o.location,t.sessionStorage=o.sessionStorage,t.navigator=o.navigator,t.JSON=o.JSON,t.RegExp=o.RegExp,t.parseFloat=o.parseFloat,t.performance=o.performance},function(e,t,r){"use strict";function isBackForwardNavigated(){return o.performance.navigation.type===a}Object.defineProperty(t,"__esModule",{value:!0});var o=r(0),n=o.navigator.userAgent,a=o.performance.navigation.TYPE_BACK_FORWARD||2,i=function(){var e=new o.RegExp("iPhone|iPad","i").test(n),t=new o.RegExp("Mac","i").test(n)&&!new o.RegExp("Chrome","i").test(n)&&new o.RegExp("Apple","i").test(n),r=new o.RegExp("Android ","i").test(n),a=new o.RegExp("wv; |inapp;","i").test(n),i=r?(0,o.parseFloat)(new o.RegExp("(Android)\\s([\\d_\\.]+|\\d_0)","i").exec(n)[2]):void 0;return!(e||t||r&&(i<=4.3&&a||i<3))}();t.default={isBackForwardNavigated:isBackForwardNavigated,isNeeded:i},e.exports=t.default},function(e,t,r){"use strict";function Persist(e,t){return"string"!=typeof e?void console.warn("first param must be a string!"):((t||2===arguments.length)&&n.default.setStateByKey(e,t),n.default.getStateByKey(e))}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),n=function(e){return e&&e.__esModule?e:{"default":e}}(o),a=r(1);Persist.isNeeded=function(){return a.isNeeded},Persist.VERSION="2.0.0-rc.1",t.default=Persist,e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default="___persist___",e.exports=t.default},function(e,t,r){"use strict";var o=r(2),n=function(e){return e&&e.__esModule?e:{"default":e}}(o);n.default.VERSION="2.0.0-rc.1",e.exports=n.default},function(e,t,r){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function isStorageAvailable(e){if(e){var t="__tmp__"+s.default;try{return e.setItem(t,s.default),e.getItem(t)===s.default}catch(e){return!1}}}function warnInvalidStorageValue(){console.warn("window.history or session/localStorage has no valid format data to be handled in persist.")}function getStorageKey(){return c?n.location.href+s.default:void 0}function getStorage(){return c}function getState(){var e=void 0,t=c?c.getItem(n.location.href+s.default):n.history.state;if(null===t)return{};var r="string"==typeof t&&t.length>0&&"null"!==t;try{e=n.JSON.parse(t);var a=!("object"!==(void 0===e?"undefined":o(e))||e instanceof Array);if(!r||!a)throw new Error}catch(t){warnInvalidStorageValue(),e={}}return e}function getStateByKey(e){if(l||c){var t=getState()[e];return"null"!==t&&void 0!==t||(t=null),t}}function setState(e){if(c)e?c.setItem(n.location.href+s.default,n.JSON.stringify(e)):c.removeItem(n.location.href+s.default);else try{n.history.replaceState(null===e?null:n.JSON.stringify(e),document.title,n.location.href)}catch(e){console.warn(e.message)}e?n.window[s.default]=!0:delete n.window[s.default]}function setStateByKey(e,t){if(l||c){var r=getState();r[e]=t,setState(r)}}function reset(){setState(null)}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=r(0),a=r(1),i=_interopRequireDefault(a),u=r(3),s=_interopRequireDefault(u),l="replaceState"in n.history&&"state"in n.history,c=function(){var e=void 0;return isStorageAvailable(n.sessionStorage)?e=n.sessionStorage:isStorageAvailable(n.localStorage)&&(e=n.localStorage),e}();!i.default.isBackForwardNavigated()&&reset(),t.default={reset:reset,setStateByKey:setStateByKey,getStateByKey:getStateByKey,getStorageKey:getStorageKey,getStorage:getStorage},e.exports=t.default}])});
//# sourceMappingURL=persist.min.js.map